<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Super Convertisseur</title>
    
    <!-- PWA Meta Tags: Force le mode Plein Écran -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0f172a">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM & Babel -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.263.1"
        }
    }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Manifeste PWA intégré en Data URI pour le support local -->
    <link rel="manifest" href='data:application/manifest+json;base64,eyJuYW1lIjogIlN1cGVyIENvbnZlcnRpc3NldXIiLCAic2hvcnRfbmFtZSI6ICJDb252ZXJ0aXNzZXVyIiwgInN0YXJ0X3VybCI6ICIuIiwgImRpc3BsYXkiOiAic3RhbmRhbG9uZSIsICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNmMWY1ZjkiLCAidGhlbWVfY29xvciI6ICIjMGYxNzJhIn0=' />

    <style>
        /* Désactiver la sélection de texte pour une sensation "App Native" */
        body {
            -webkit-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            /* overscroll-behavior: none; Retiré pour permettre le rebond/scroll naturel */
        }
        /* Masquer la barre de défilement */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* Animation d'entrée */
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .animate-in {
            animation: fadeIn 0.2s ease-out forwards;
        }
        .pt-safe-top {
            padding-top: env(safe-area-inset-top);
        }
        .pb-safe-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 w-full min-h-screen">
    <div id="root" class="h-full w-full"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            Copy, Check, Calculator, Volume2, Maximize2, X, 
            FileText, Clipboard, Divide, X as MultiplyIcon, 
            Plus, Minus, Delete, Coins, HelpCircle, ArrowUpRight
        } from 'lucide-react';

        function SuperConverter() {
            // --- ÉTATS ---
            const [expression, setExpression] = useState(''); 
            const [displayNumber, setDisplayNumber] = useState('0');
            const [textResult, setTextResult] = useState(''); 
            const [lang, setLang] = useState('fr'); 
            const [currency, setCurrency] = useState('DZD'); 
            const [mode, setMode] = useState('currency'); 
            const [template, setTemplate] = useState('none'); 
            
            // UI States
            const [isZoomed, setIsZoomed] = useState(false);
            const [showInstallHelp, setShowInstallHelp] = useState(false);
            const [copied, setCopied] = useState('');
            const [showKeypad, setShowKeypad] = useState(true);

            // --- CONFIGURATION ---
            const config = {
                currencies: {
                    DZD: {
                        symbol: "DA",
                        fr: { name: "dinar", plural: "dinars", sub: "centime", subPlural: "centimes" },
                        en: { name: "dinar", plural: "dinars", sub: "centime", subPlural: "centimes" },
                        ar: { single: "دينار", dual: "ديناران", plural: "دنانير", default: "دينار", subSingle: "سنتيم", subDual: "سنتيمان", subPlural: "سنتيمات", subDefault: "سنتيم" }
                    },
                    EUR: {
                        symbol: "€",
                        fr: { name: "euro", plural: "euros", sub: "centime", subPlural: "centimes" },
                        en: { name: "euro", plural: "euros", sub: "cent", subPlural: "cents" },
                        ar: { single: "يورو", dual: "يورو", plural: "يورو", default: "يورو", subSingle: "سنت", subDual: "سنتان", subPlural: "سنتات", subDefault: "سنت" }
                    },
                    USD: {
                        symbol: "$",
                        fr: { name: "dollar", plural: "dollars", sub: "cent", subPlural: "cents" },
                        en: { name: "dollar", plural: "dollars", sub: "cent", subPlural: "cents" },
                        ar: { single: "دولار", dual: "دولاران", plural: "دولارات", default: "دولار", subSingle: "سنت", subDual: "سنتان", subPlural: "سنتات", subDefault: "سنت" }
                    }
                },
                lang: {
                    fr: { dir: "ltr", and: "et", zero: "zéro", decimalSep: "virgule", templates: { check: "Payez contre ce chèque la somme de : ", invoice: "Arrêté la présente facture à la somme de : ", contract: "Le montant total s'élève à : " } },
                    en: { dir: "ltr", and: "and", zero: "zero", decimalSep: "point", templates: { check: "Pay against this check the sum of: ", invoice: "Total invoice amount fixed at: ", contract: "The total amount is: " } },
                    ar: { dir: "rtl", and: "و", zero: "صفر", decimalSep: "فاصل", templates: { check: "ادفعوا بموجب هذا الصك مبلغ : ", invoice: "توقفت الفاتورة عند مبلغ : ", contract: "المبلغ الإجمالي هو : " } }
                }
            };

            // --- MOTEUR DE CONVERSION ---
            const convertFr = (n) => {
                if (n === 0) return '';
                const units = ['', 'un', 'deux', 'trois', 'quatre', 'cinq', 'six', 'sept', 'huit', 'neuf'];
                const teens = ['dix', 'onze', 'douze', 'treize', 'quatorze', 'quinze', 'seize', 'dix-sept', 'dix-huit', 'dix-neuf'];
                const tens = ['', 'dix', 'vingt', 'trente', 'quarante', 'cinquante', 'soixante', 'soixante-dix', 'quatre-vingt', 'quatre-vingt-dix'];
                
                if (n < 10) return units[n];
                if (n < 20) return teens[n - 10];
                if (n < 100) {
                    const ten = Math.floor(n / 10);
                    const unit = n % 10;
                    if (ten === 7 || ten === 9) {
                        const offset = ten === 7 ? 60 : 80;
                        let prefix = ten === 7 ? "soixante" : "quatre-vingt";
                        let connector = (ten === 7 && unit === 1) ? " et " : "-";
                        if (n === 80) return "quatre-vingts";
                        return `${prefix}${connector}${convertFr(n - offset)}`;
                    }
                    const tenWord = tens[ten];
                    if (unit === 0) return tenWord;
                    if (unit === 1 && ten !== 8) return `${tenWord} et un`;
                    return `${tenWord}-${units[unit]}`;
                }
                if (n < 1000) {
                    if (n === 100) return "cent";
                    const hundred = Math.floor(n / 100);
                    const rest = n % 100;
                    let hWord = (hundred > 1 && rest === 0) ? "cents" : "cent";
                    const prefix = hundred === 1 ? "" : units[hundred] + " ";
                    if (rest === 0) return `${prefix}${hWord}`;
                    return `${prefix}cent ${convertFr(rest)}`;
                }
                const chunks = [{v:1e9, l:"milliard"}, {v:1e6, l:"million"}, {v:1e3, l:"mille"}];
                for (let c of chunks) {
                    if (n >= c.v) {
                        const qty = Math.floor(n / c.v);
                        const rest = n % c.v;
                        let label = c.l;
                        if (qty > 1 && label !== "mille") label += "s";
                        let prefix = (label === "mille" && qty === 1) ? "" : convertFr(qty) + " ";
                        if (rest === 0) return `${prefix}${label}`;
                        return `${prefix}${label} ${convertFr(rest)}`;
                    }
                }
            };

            const convertEn = (n) => {
                const units = ['', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine'];
                const tens = ['', 'ten', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety'];
                if (n === 0) return '';
                if (n < 10) return units[n];
                if (n < 20) return ['ten','eleven','twelve','thirteen','fourteen','fifteen','sixteen','seventeen','eighteen','nineteen'][n-10];
                if (n < 100) return tens[Math.floor(n/10)] + (n%10!==0?"-"+units[n%10]:"");
                if (n < 1000) return units[Math.floor(n/100)]+" hundred"+(n%100!==0?" "+convertEn(n%100):"");
                const chunks = [{v:1e9,l:"billion"},{v:1e6,l:"million"},{v:1e3,l:"thousand"}];
                for(let c of chunks) if(n>=c.v) return convertEn(Math.floor(n/c.v))+" "+c.l+(n%c.v!==0?", "+convertEn(n%c.v):"");
            };

            const convertAr = (n) => {
                const units = ['', 'واحد', 'اثنان', 'ثلاثة', 'أربعة', 'خمسة', 'ستة', 'سبعة', 'ثمانية', 'تسعة'];
                const tens = ['', 'عشرة', 'عشرون', 'ثلاثون', 'أربعون', 'خمسون', 'ستون', 'سبعون', 'ثمانون', 'تسعون'];
                if (n === 0) return '';
                if (n < 10) return units[n];
                if (n < 20) return ['عشرة','أحد عشر','اثنا عشر','ثلاثة عشر','أربعة عشر','خمسة عشر','ستة عشر','سبعة عشر','ثمانية عشر','تسعة عشر'][n-10];
                if (n < 100) { const u=n%10; const t=Math.floor(n/10); return u===0?tens[t]:units[u]+" و "+tens[t]; }
                if (n < 1000) { const h=Math.floor(n/100); const r=n%100; let hw=h===1?"مائة":h===2?"مائتان":units[h]+"مائة"; return r===0?hw:hw+" و "+convertAr(r); }
                const chunks = [{v:1e9,l:"مليار",d:"ملياران",p:"مليارات"},{v:1e6,l:"مليون",d:"مليونان",p:"ملايين"},{v:1e3,l:"ألف",d:"ألفان",p:"آلاف"}];
                for(let c of chunks) if(n>=c.v) {
                    const q=Math.floor(n/c.v); const r=n%c.v; let pre="";
                    if(q===1)pre=c.l; else if(q===2)pre=c.d; else if(q>=3&&q<=10)pre=convertAr(q)+" "+c.p; else pre=convertAr(q)+" "+c.l;
                    return r===0?pre:pre+" و "+convertAr(r);
                }
            };

            const getCurrencyName = (val, type, isSub = false) => {
                if (type === 'NONE') return '';
                const c = config.currencies[type];
                if (lang === 'ar') {
                    const ar = c.ar;
                    if (val === 1) return isSub ? ar.subSingle : ar.single;
                    if (val === 2) return isSub ? ar.subDual : ar.dual;
                    if (val >= 3 && val <= 10) return isSub ? ar.subPlural : ar.plural;
                    return isSub ? ar.subDefault : ar.default;
                }
                const l = c[lang];
                if (val > 1) return isSub ? l.subPlural : l.plural;
                return isSub ? l.sub : l.name;
            };

            // --- UI LOGIC ---
            useEffect(() => {
                const cleanExpr = expression.toString().replace(/[^-()\d/*+.]/g, '');
                let result = 0;
                try {
                    if (!cleanExpr) {
                        result = 0;
                    } else {
                        const evalResult = Function(`return ${cleanExpr}`)();
                        if (isFinite(evalResult) && !isNaN(evalResult)) {
                            result = Math.round(evalResult * 100) / 100;
                        } else {
                            result = parseFloat(cleanExpr) || 0; 
                        }
                    }
                } catch (e) {
                    result = 0; 
                }

                // Handle incomplete operators
                const lastChar = cleanExpr.slice(-1);
                if (['+', '-', '*', '/'].includes(lastChar)) {
                    try {
                        const partial = cleanExpr.slice(0, -1);
                        const partialRes = Function(`return ${partial}`)();
                        result = partialRes || 0;
                    } catch(e) { result = 0; }
                } else if (cleanExpr) {
                    try {
                        const res = Function(`return ${cleanExpr}`)();
                        result = res;
                    } catch(e) {}
                }

                const safeResult = isFinite(result) ? result : 0;
                if (safeResult > 999999999999) {
                    setDisplayNumber("Max Limit");
                    setTextResult("Nombre trop grand");
                    return;
                }

                setDisplayNumber(safeResult.toLocaleString('fr-FR', { maximumFractionDigits: 2 }));

                // Text Conversion
                const parts = safeResult.toString().split('.');
                const intVal = parseInt(parts[0] || '0', 10);
                const decVal = Math.round((safeResult - intVal) * 100);

                const converter = lang === 'fr' ? convertFr : lang === 'en' ? convertEn : convertAr;
                const intTxt = intVal === 0 ? config.lang[lang].zero : converter(intVal);
                
                let txt = "";
                if (mode === 'number') {
                    txt = intTxt;
                    if (decVal > 0) txt += ` ${config.lang[lang].decimalSep} ${converter(decVal)}`;
                } else {
                    const curMain = getCurrencyName(intVal, currency, false);
                    const curSub = getCurrencyName(decVal, currency, true);
                    const sep = config.lang[lang].and;
                    txt = `${intTxt} ${curMain}`;
                    if (decVal > 0) txt += ` ${sep} ${converter(decVal)} ${curSub}`;
                }
                setTextResult(txt.charAt(0).toUpperCase() + txt.slice(1));
            }, [expression, lang, currency, mode]);

            const handleKeypad = (key) => {
                if (navigator.vibrate) navigator.vibrate(20);
                if (key === 'C') { setExpression(''); setDisplayNumber('0'); }
                else if (key === 'DEL') setExpression(prev => prev.slice(0, -1));
                else setExpression(prev => prev + key);
            };

            const speak = () => {
                if ('speechSynthesis' in window) {
                    window.speechSynthesis.cancel();
                    const utterance = new SpeechSynthesisUtterance(textResult);
                    utterance.lang = lang === 'ar' ? 'ar-SA' : lang === 'fr' ? 'fr-FR' : 'en-US';
                    utterance.rate = 0.9;
                    window.speechSynthesis.speak(utterance);
                }
            };

            const copySmart = (type) => {
                if (navigator.vibrate) navigator.vibrate(50);
                const prefix = template !== 'none' ? config.lang[lang].templates[template] : '';
                const content = type === 'text' ? prefix + textResult : `${prefix}${displayNumber} (${textResult})`;
                
                const textArea = document.createElement("textarea");
                textArea.value = content;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);

                setCopied(type);
                setTimeout(() => setCopied(''), 2000);
            };

            const isRTL = lang === 'ar';

            return (
                <div className={`min-h-screen w-full flex flex-col font-sans text-slate-800 ${isRTL ? 'font-arabic' : ''}`}>
                    
                    {/* MODAL INSTALLATION HELP */}
                    {showInstallHelp && (
                        <div className="fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex flex-col items-center justify-center p-6 text-center animate-in" onClick={() => setShowInstallHelp(false)}>
                            <div className="bg-white rounded-3xl p-6 w-full max-w-sm text-slate-900 shadow-2xl relative" onClick={e => e.stopPropagation()}>
                                <button onClick={() => setShowInstallHelp(false)} className="absolute top-4 right-4 p-2 bg-slate-100 rounded-full hover:bg-slate-200">
                                    <X className="w-5 h-5 text-slate-600" />
                                </button>
                                
                                <div className="w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <ArrowUpRight className="w-6 h-6 text-indigo-600" />
                                </div>
                                
                                <h3 className="text-xl font-bold mb-2">Installer l'Application</h3>
                                <p className="text-sm text-slate-600 mb-6">
                                    Comme c'est un fichier local, vous devez l'ajouter manuellement pour avoir l'expérience "App".
                                </p>

                                <div className="text-left bg-slate-50 p-4 rounded-xl border border-slate-100 space-y-3 text-sm">
                                    <div className="flex gap-3">
                                        <div className="w-6 h-6 flex-shrink-0 bg-slate-200 rounded-full flex items-center justify-center font-bold text-xs">1</div>
                                        <p>Touchez les <strong>3 points</strong> (menu) en haut à droite de Chrome.</p>
                                    </div>
                                    <div className="flex gap-3">
                                        <div className="w-6 h-6 flex-shrink-0 bg-slate-200 rounded-full flex items-center justify-center font-bold text-xs">2</div>
                                        <p>Sélectionnez <strong>"Ajouter à l'écran d'accueil"</strong> (ou "Installer l'application").</p>
                                    </div>
                                </div>

                                <button onClick={() => setShowInstallHelp(false)} className="mt-6 w-full bg-indigo-600 text-white font-bold py-3 rounded-xl active:scale-95 transition-transform">
                                    J'ai compris
                                </button>
                            </div>
                            <div className="mt-8 text-white/50 text-xs">Touchez l'écran pour fermer</div>
                        </div>
                    )}

                    {/* MODAL ZOOM */}
                    {isZoomed && (
                        <div className="fixed inset-0 z-50 bg-white flex flex-col items-center justify-center p-4 text-center animate-in">
                            <button onClick={() => setIsZoomed(false)} className="absolute top-4 right-4 p-4 bg-slate-100 rounded-full">
                                <X className="w-8 h-8 text-slate-600" />
                            </button>
                            <div className="w-full">
                                <div className="text-5xl font-bold text-indigo-600 mb-8 font-mono break-all">
                                {displayNumber} <span className="text-3xl text-indigo-300">{mode === 'currency' ? config.currencies[currency].symbol : ''}</span>
                                </div>
                                <div className="text-3xl font-medium leading-relaxed text-slate-800" dir={isRTL ? "rtl" : "ltr"}>{textResult}</div>
                            </div>
                        </div>
                    )}

                    {/* HEADER */}
                    <div className="bg-slate-900 text-white p-3 pt-safe-top flex justify-between items-center z-10 shadow-md">
                        <div className="flex items-center gap-2">
                             {/* BOUTON AIDE */}
                            <button onClick={() => setShowInstallHelp(true)} className="w-10 h-10 flex items-center justify-center bg-slate-800 hover:bg-slate-700 rounded-lg text-indigo-300 transition-colors">
                                <HelpCircle size={20} />
                            </button>
                            <div className="flex bg-slate-800 rounded-lg p-1">
                                {['fr', 'en', 'ar'].map(l => (
                                    <button key={l} onClick={() => setLang(l)} 
                                        className={`w-8 h-8 flex items-center justify-center text-xs font-bold rounded-md uppercase transition-all ${lang === l ? 'bg-indigo-500 text-white' : 'text-slate-400'}`}>
                                        {l}
                                    </button>
                                ))}
                            </div>
                        </div>
                        
                        <div className="flex items-center gap-2">
                            <div className="flex items-center bg-slate-800 rounded-lg p-1">
                                <button onClick={() => setMode('number')} className={`p-2 rounded ${mode === 'number' ? 'bg-slate-600 text-white' : 'text-slate-400'}`}><Calculator size={20}/></button>
                                <button onClick={() => setMode('currency')} className={`p-2 rounded ${mode === 'currency' ? 'bg-green-600 text-white' : 'text-slate-400'}`}><Coins size={20}/></button>
                            </div>
                            {mode === 'currency' && (
                                <select value={currency} onChange={(e) => setCurrency(e.target.value)} 
                                    className="bg-slate-800 text-white text-sm font-bold py-2 px-2 rounded-lg border-none focus:ring-0 cursor-pointer outline-none">
                                    <option value="DZD">DA</option>
                                    <option value="EUR">EUR</option>
                                    <option value="USD">USD</option>
                                </select>
                            )}
                        </div>
                    </div>

                    {/* ECRAN CALCULATRICE */}
                    <div className="bg-slate-900 p-4 flex flex-col justify-end min-h-[120px] text-right border-b border-slate-800">
                        {/* Input en lecture seule pour éviter le clavier natif */}
                        <input 
                            type="text" 
                            readOnly
                            value={expression}
                            placeholder="0"
                            className="w-full text-right text-xl text-slate-400 bg-transparent border-none focus:ring-0 placeholder-slate-600 mb-1 font-mono outline-none"
                        />
                        <div className="text-5xl font-bold text-white tracking-tight font-mono overflow-x-auto scrollbar-hide whitespace-nowrap">
                            {displayNumber}
                            {mode === 'currency' && <span className="text-xl text-green-400 ml-2 align-top">{config.currencies[currency].symbol}</span>}
                        </div>
                    </div>

                    {/* ZONE TEXTE RESULTAT */}
                    <div className="bg-indigo-50 p-3 border-b border-indigo-100 flex-shrink-0">
                        <div className="flex gap-2 overflow-x-auto pb-3 scrollbar-hide mb-2 px-1">
                            {['none', 'check', 'invoice', 'contract'].map(t => (
                                <button key={t} onClick={() => setTemplate(t)}
                                    className={`whitespace-nowrap px-4 py-2 rounded-full text-xs font-bold border shadow-sm transition-transform active:scale-95 ${template === t ? 'bg-indigo-600 border-indigo-600 text-white' : 'bg-white border-indigo-200 text-indigo-400'}`}>
                                    {t === 'none' && <X size={14} />}
                                    {t === 'check' && (lang === 'ar' ? 'شيك' : 'Chèque')}
                                    {t === 'invoice' && (lang === 'ar' ? 'فاتورة' : 'Facture')}
                                    {t === 'contract' && (lang === 'ar' ? 'عقد' : 'Contrat')}
                                </button>
                            ))}
                        </div>

                        <div className="bg-white p-3 rounded-xl shadow-sm border border-indigo-100 relative min-h-[90px] flex flex-col justify-center">
                            <div className="absolute top-2 right-2 flex gap-2">
                                <button onClick={speak} className="p-2 bg-indigo-50 active:bg-indigo-200 rounded-lg text-indigo-600" title="Lire">
                                    <Volume2 size={20}/>
                                </button>
                                <button onClick={() => setIsZoomed(true)} className="p-2 bg-indigo-50 active:bg-indigo-200 rounded-lg text-indigo-600" title="Agrandir">
                                    <Maximize2 size={20}/>
                                </button>
                            </div>

                            {template !== 'none' && (
                                <div className="text-xs text-indigo-400 font-bold mb-1 uppercase tracking-wider" dir={isRTL ? "rtl" : "ltr"}>
                                    {config.lang[lang].templates[template]}
                                </div>
                            )}
                            <p className="text-lg font-medium leading-snug text-slate-800 pr-20 break-words" dir={isRTL ? "rtl" : "ltr"}>
                                {textResult || "..."}
                            </p>
                        </div>
                    </div>

                    {/* CLAVIER */}
                    <div className="flex-1 bg-white p-2 flex flex-col pb-safe-bottom">
                        <div className="grid grid-cols-2 gap-3 mb-2 px-1">
                            <button onClick={() => copySmart('text')} 
                                className={`flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all shadow-sm ${copied === 'text' ? 'bg-green-100 text-green-700' : 'bg-slate-100 text-slate-600 active:bg-slate-200 active:scale-95'}`}>
                                {copied === 'text' ? <Check size={18}/> : <FileText size={18}/>}
                                <span className="text-xs uppercase">{lang === 'ar' ? 'نسخ النص' : 'Texte Seul'}</span>
                            </button>
                            <button onClick={() => copySmart('full')} 
                                className={`flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all shadow-sm ${copied === 'full' ? 'bg-green-100 text-green-700' : 'bg-slate-800 text-white active:bg-slate-900 active:scale-95'}`}>
                                {copied === 'full' ? <Check size={18}/> : <Clipboard size={18}/>}
                                <span className="text-xs uppercase">{lang === 'ar' ? 'الكل' : 'Tout'}</span>
                            </button>
                        </div>

                        <div className="grid grid-cols-4 gap-2 flex-1">
                            {['C', '(', ')', '/'].map(k => (
                                <Btn key={k} val={k} onClick={() => handleKeypad(k)} variant="secondary" icon={k === '/' ? <Divide size={24}/> : null} />
                            ))}
                            {['7', '8', '9', '*'].map(k => (
                                <Btn key={k} val={k} onClick={() => handleKeypad(k)} icon={k === '*' ? <MultiplyIcon size={24}/> : null} />
                            ))}
                            {['4', '5', '6', '-'].map(k => (
                                <Btn key={k} val={k} onClick={() => handleKeypad(k)} icon={k === '-' ? <Minus size={24}/> : null} />
                            ))}
                            {['1', '2', '3', '+'].map(k => (
                                <Btn key={k} val={k} onClick={() => handleKeypad(k)} icon={k === '+' ? <Plus size={24}/> : null} />
                            ))}
                            <Btn val="0" onClick={() => handleKeypad('0')} className="col-span-2" />
                            <Btn val="." onClick={() => handleKeypad('.')} />
                            <Btn val="DEL" onClick={() => handleKeypad('DEL')} variant="danger" icon={<Delete size={24}/>} />
                        </div>
                    </div>
                </div>
            );
        }

        const Btn = ({ val, onClick, variant = "primary", className = "", icon }) => {
            const baseStyle = "h-full min-h-[50px] rounded-xl font-bold text-2xl flex items-center justify-center active:scale-95 transition-transform shadow-[0_2px_0_0_rgba(0,0,0,0.1)] active:shadow-none border-b-2";
            const styles = {
                primary: "bg-white border-slate-200 text-slate-700 active:bg-slate-50",
                secondary: "bg-indigo-50 border-indigo-100 text-indigo-600 active:bg-indigo-100",
                danger: "bg-red-50 border-red-100 text-red-500 active:bg-red-100",
            };
            return (
                <button onClick={onClick} className={`${baseStyle} ${styles[variant]} ${className}`}>
                    {icon || val}
                </button>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<SuperConverter />);
    </script>
</body>
</html>